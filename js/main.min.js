"use strict";document.addEventListener("alpine:init",function(){Alpine.store("darkMode",{init:function(){var t=this,n=window.localStorage.getItem("hugo-theme-dream-is-dark");n?this.on=n:(this.mql.addEventListener("change",function(e){t.on=e.matches?"y":"n"}),this.on="auto"),setTimeout(function(){t.setThemeForUtterances()},6e3)},mql:window.matchMedia("(prefers-color-scheme: dark)"),on:"n",isDark:function(){return this.on==="auto"?this.mql.matches:this.on==="y"},class:function(){return this.on==="auto"?this.mql.matches?"dark":"light":this.on==="y"?"dark":"light"},theme:function(){return this.on==="auto"?this.mql.matches?window.darkTheme:window.lightTheme:this.on==="y"?window.darkTheme:window.lightTheme},iconMap:{n:"sunny",y:"moon",auto:"desktop"},icon:function(){return this.iconMap[this.on]},toggle:function(t){this.on=t,t==="auto"?window.localStorage.removeItem("hugo-theme-dream-is-dark"):window.localStorage.setItem("hugo-theme-dream-is-dark",t),this.setThemeForUtterances()},setThemeForUtterances:function(){var t=document.querySelector("iframe.utterances-frame");t&&t.contentWindow.postMessage({type:"set-theme",theme:this.isDark()?"github-dark":"github-light"},"https://utteranc.es")}}),Alpine.data("commentsWidget",()=>({init(){this.loadWidget(),this.$watch("$store.darkMode.isDark()",()=>{this.loadWidget()})},loadWidget(){this.$el.innerHTML="";const t=this.$el.getAttribute("data-widget-type"),n=this.$el.getAttribute("data-discussion"),s=this.$el.getAttribute("data-limit")||"10",o=this.$store.darkMode.isDark()?"1":"0",e=document.createElement("script");if(e.async=!0,t==="telegram"){e.src="https://telegram.org/js/telegram-widget.js?22";const t={"data-telegram-discussion":n,"data-comments-limit":s,"data-colorful":"1","data-color":"1eb854","data-dark":o};Object.entries(t).forEach(([t,n])=>{e.setAttribute(t,n)})}else if(t==="commentsApp"){e.src="https://comments.app/js/widget.js?3";const t={"data-comments-app-website":n,"data-limit":s,"data-colorful":"1","data-color":"1eb854","data-dark":o};Object.entries(t).forEach(([t,n])=>{e.setAttribute(t,n)})}this.$el.appendChild(e)}}))})