{{ define "title" }}
{{ i18n "portfolio.title" | default "–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ" }}
{{ end }}

{{ define "main" }}

{{ if site.Params.portfolio }}

{{ $allPortfolioPages := where site.RegularPages "Type" "portfolio" }}

<!-- Hero —Å–µ–∫—Ü–∏—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ -->
<section class="max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12">
  <div class="text-center max-w-3xl mx-auto">
    
    <!-- –ë–µ–π–¥–∂ -->
    <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-base-200 text-base-content/70 text-sm font-medium mb-4">
      <ion-icon name="briefcase-outline"></ion-icon>
      {{ i18n "portfolio.badge" | default "–ú–æ–∏ —Ä–∞–±–æ—Ç—ã" }}
    </div>
    
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-3 sm:mb-4">
      {{ i18n "portfolio.heroTitle" | default "–ü—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ —è –≥–æ—Ä–∂—É—Å—å" }}
    </h1>
    
    <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
    <p class="text-base-content/60 mb-6 max-w-2xl mx-auto">
      {{ i18n "portfolio.heroDescription" | default "–ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è. –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã —Ä–∞–±–æ—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ —è –≤–ª–æ–∂–∏–ª –¥—É—à—É, –∑–Ω–∞–Ω–∏—è –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å." }}
    </p>
    
  </div>
</section>

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<section class="max-w-7xl mx-auto px-4 sm:px-6 pb-8">
  
  {{ $filters := slice }}
  {{ range $allPortfolioPages }}
    {{ with .Params.filters }}
      {{ range . }}
        {{ $filters = $filters | append . }}
      {{ end }}
    {{ end }}
  {{ end }}
  {{ $uniqueFilters := uniq $filters }}
  
  <!-- –°–æ–±–∏—Ä–∞–µ–º tools –∏–∑ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
  {{ $allTools := slice }}
  {{ range $allPortfolioPages }}
    {{ with .Params.tools }}
      {{ range . }}
        {{ $allTools = $allTools | append . }}
      {{ end }}
    {{ end }}
  {{ end }}
  {{ $uniqueTools := uniq $allTools }}
  
  <!-- –°—á–∏—Ç–∞–µ–º —Å—Ç–∞—Ç—É—Å—ã -->
  {{ $completedCount := 0 }}
  {{ $inProgressCount := 0 }}
  {{ range $allPortfolioPages }}
    {{ if eq .Params.status "completed" }}
      {{ $completedCount = add $completedCount 1 }}
    {{ else if eq .Params.status "in-progress" }}
      {{ $inProgressCount = add $inProgressCount 1 }}
    {{ end }}
  {{ end }}
  
  <div class="flex flex-wrap justify-center gap-4 sm:gap-6">
    
    <div class="flex items-center gap-2 px-4 py-2 rounded-xl bg-base-200/50 border border-base-300">
      <ion-icon name="briefcase-outline" class="text-lg text-primary"></ion-icon>
      <span class="font-bold">{{ len $allPortfolioPages }}</span>
      <span class="text-sm text-base-content/60">{{ i18n "portfolio.statsProjects" | default "–ø—Ä–æ–µ–∫—Ç–æ–≤" }}</span>
    </div>
    
    {{ if gt $completedCount 0 }}
    <div class="flex items-center gap-2 px-4 py-2 rounded-xl bg-success/10 border border-success/30">
      <ion-icon name="checkmark-circle-outline" class="text-lg text-success"></ion-icon>
      <span class="font-bold text-success">{{ $completedCount }}</span>
      <span class="text-sm text-success/70">{{ i18n "portfolio.statsCompleted" | default "–∑–∞–≤–µ—Ä—à–µ–Ω–æ" }}</span>
    </div>
    {{ end }}
    
    {{ if gt $inProgressCount 0 }}
    <div class="flex items-center gap-2 px-4 py-2 rounded-xl bg-warning/10 border border-warning/30">
      <ion-icon name="hourglass-outline" class="text-lg text-warning"></ion-icon>
      <span class="font-bold text-warning">{{ $inProgressCount }}</span>
      <span class="text-sm text-warning/70">{{ i18n "portfolio.statsInProgress" | default "–≤ —Ä–∞–±–æ—Ç–µ" }}</span>
    </div>
    {{ end }}
    
    <div class="flex items-center gap-2 px-4 py-2 rounded-xl bg-base-200/50 border border-base-300">
      <ion-icon name="folder-outline" class="text-lg text-secondary"></ion-icon>
      <span class="font-bold">{{ len $uniqueFilters }}</span>
      <span class="text-sm text-base-content/60">{{ i18n "portfolio.statsCategories" | default "–∫–∞—Ç–µ–≥–æ—Ä–∏–π" }}</span>
    </div>
    
    {{ if gt (len $uniqueTools) 0 }}
    <div class="flex items-center gap-2 px-4 py-2 rounded-xl bg-base-200/50 border border-base-300">
      <ion-icon name="code-slash-outline" class="text-lg text-accent"></ion-icon>
      <span class="font-bold">{{ len $uniqueTools }}+</span>
      <span class="text-sm text-base-content/60">{{ i18n "portfolio.statsTools" | default "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π" }}</span>
    </div>
    {{ end }}
    
  </div>
</section>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="px-4 sm:px-6 pb-8">
  <div class="max-w-7xl mx-auto">

    <!-- –§–∏–ª—å—Ç—Ä—ã -->
    {{ if gt (len $uniqueFilters) 0 }}
    <div class="mb-8 sm:mb-10">
      
      <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è -->
      <div class="sm:hidden">
        <div class="overflow-x-auto scrollbar-hide -mx-4 px-4">
          <div class="flex gap-2 pb-2 w-max" role="group">
            <button 
              class="portfolio-filter-btn flex items-center gap-1.5 px-4 py-2 rounded-full
                    bg-base-200 hover:bg-primary hover:text-primary-content
                    transition-all duration-200 whitespace-nowrap font-medium
                    data-[state=checked]:bg-primary data-[state=checked]:text-primary-content" 
              data-filter="*" 
              data-state="checked">
              <ion-icon name="apps" class="text-base"></ion-icon>
              {{ i18n "portfolio.all" | default "–í—Å–µ" }}
              <span class="opacity-70">({{ len $allPortfolioPages }})</span>
            </button>
            
            {{ range $filter := $uniqueFilters }}
            {{ $filterCount := 0 }}
            {{ range $allPortfolioPages }}
              {{ $pageFilters := .Params.filters }}
              {{ range $pageFilters }}
                {{ if eq . $filter }}
                  {{ $filterCount = add $filterCount 1 }}
                {{ end }}
              {{ end }}
            {{ end }}
            <button 
              class="portfolio-filter-btn flex items-center gap-1.5 px-4 py-2 rounded-full
                    bg-base-200 hover:bg-primary hover:text-primary-content
                    transition-all duration-200 whitespace-nowrap font-medium
                    data-[state=checked]:bg-primary data-[state=checked]:text-primary-content" 
              data-filter=".{{ $filter | urlize }}" 
              data-state="unchecked">
              {{ $filter | humanize }}
              <span class="opacity-70">({{ $filterCount }})</span>
            </button>
            {{ end }}
          </div>
        </div>
        
        <div class="flex justify-center mt-3">
          <span class="text-xs text-base-content/40 flex items-center gap-1">
            <ion-icon name="swap-horizontal"></ion-icon>
            {{ i18n "portfolio.swipeToFilter" | default "–°–≤–∞–π–ø–∞–π—Ç–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞" }}
          </span>
        </div>
      </div>
      
      <!-- –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è -->
      <div class="hidden sm:flex flex-wrap justify-center gap-2" role="group">
        <button 
          class="portfolio-filter-btn flex items-center gap-2 px-4 py-2 rounded-full
                bg-base-200 hover:bg-primary hover:text-primary-content
                transition-all duration-200 font-medium
                data-[state=checked]:bg-primary data-[state=checked]:text-primary-content" 
          data-filter="*" 
          data-state="checked">
          <ion-icon name="apps"></ion-icon>
          {{ i18n "portfolio.all" | default "–í—Å–µ" }}
          <span class="opacity-70">({{ len $allPortfolioPages }})</span>
        </button>
        
        {{ range $filter := $uniqueFilters }}
        {{ $filterCount := 0 }}
        {{ range $allPortfolioPages }}
          {{ $pageFilters := .Params.filters }}
          {{ range $pageFilters }}
            {{ if eq . $filter }}
              {{ $filterCount = add $filterCount 1 }}
            {{ end }}
          {{ end }}
        {{ end }}
        <button 
          class="portfolio-filter-btn flex items-center gap-2 px-4 py-2 rounded-full
                bg-base-200 hover:bg-primary hover:text-primary-content
                transition-all duration-200 font-medium
                data-[state=checked]:bg-primary data-[state=checked]:text-primary-content" 
          data-filter=".{{ $filter | urlize }}" 
          data-state="unchecked">
          {{ $filter | humanize }}
          <span class="opacity-70">({{ $filterCount }})</span>
        </button>
        {{ end }}
      </div>
      
    </div>
    {{ end }}

    <!-- –°–µ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
    {{ if site.Params.zenMode }}
    
    <div class="dream-zen-posts max-w-[65ch] mx-auto space-y-6">
      {{ range $allPortfolioPages }}
        {{ .Render "zen-summary" }}
      {{ end }}
    </div>
    
    {{ else }}
    
    <div class="portfolio-grid" id="portfolio-grid">
      {{ range $allPortfolioPages }}
      <div class="w-full sm:w-1/2 lg:w-1/3 p-2 sm:p-3 portfolio-item {{ with .Params.filters }}{{ range . }}{{ . | urlize }} {{ end }}{{ end }}">
        
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ -->
        <a class="group block bg-base-100 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl 
                  border border-base-200 dark:border-base-content/10
                  transition-all duration-300 hover:-translate-y-2" 
           href="{{ .RelPermalink }}">
          
          <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –æ–≤–µ—Ä–ª–µ–µ–º -->
          <div class="relative overflow-hidden aspect-video bg-base-200">
            {{ if .Params.cover }}
              {{ with .Resources.Get .Params.cover }}
                {{ if eq .MediaType.SubType "svg" }}
                  <img src="{{ .RelPermalink }}" alt="{{ $.Title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
                {{ else }}
                  {{ $webp := .Resize (printf "%dx%d webp" .Width .Height) }}
                  <picture>
                    <source srcset="{{ $webp.RelPermalink }}" type="image/webp" />
                    <img src="{{ .RelPermalink }}" alt="{{ $.Title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" />
                  </picture>
                {{ end }}
              {{ else }}
                <img src="{{ .Params.cover }}" alt="{{ .Title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" />
              {{ end }}
            {{ else if not site.Params.noDefaultSummaryCover }}
              {{ with resources.Get (printf "images/default%d.jpg" (index (seq 4 | shuffle) 0)) }}
                {{ $webp := .Resize (printf "%dx%d webp" .Width .Height) }}
                <picture>
                  <source srcset="{{ $webp.RelPermalink }}" type="image/webp" />
                  <img src="{{ .RelPermalink }}" alt="{{ $.Title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" />
                </picture>
              {{ end }}
            {{ else }}
              <!-- –ó–∞–≥–ª—É—à–∫–∞ –µ—Å–ª–∏ –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
              <div class="w-full h-full flex items-center justify-center bg-base-300">
                <ion-icon name="image-outline" class="text-4xl text-base-content/20"></ion-icon>
              </div>
            {{ end }}
            
            <!-- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π -->
            <div class="absolute inset-0 bg-gradient-to-t from-base-100/90 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            
            <!-- –°—Ç–∞—Ç—É—Å –±–µ–π–¥–∂ -->
            {{ with .Params.status }}
            <div class="absolute top-3 left-3">
              {{ if eq . "completed" }}
                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium 
                            bg-success/20 text-success backdrop-blur-md border border-success/30 shadow-sm">
                  <ion-icon name="checkmark-circle-outline" class="text-sm"></ion-icon>
                  {{ i18n "portfolio.statusCompleted" | default "–ó–∞–≤–µ—Ä—à—ë–Ω" }}
                </span>
              {{ else if eq . "in-progress" }}
                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium 
                            bg-warning/20 text-warning backdrop-blur-md border border-warning/30 shadow-sm">
                  <ion-icon name="hourglass-outline" class="text-sm"></ion-icon>
                  {{ i18n "portfolio.statusInProgress" | default "–í —Ä–∞–±–æ—Ç–µ" }}
                </span>
              {{ else if eq . "archived" }}
                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium 
                            bg-base-content/10 text-base-content/70 backdrop-blur-md border border-base-content/20 shadow-sm">
                  <ion-icon name="archive-outline" class="text-sm"></ion-icon>
                  {{ i18n "portfolio.statusArchived" | default "–ê—Ä—Ö–∏–≤" }}
                </span>
              {{ else if eq . "planned" }}
                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium 
                            bg-info/20 text-info backdrop-blur-md border border-info/30 shadow-sm">
                  <ion-icon name="calendar-outline" class="text-sm"></ion-icon>
                  {{ i18n "portfolio.statusPlanned" | default "–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è" }}
                </span>
              {{ else if eq . "paused" }}
                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium 
                            bg-error/20 text-error backdrop-blur-md border border-error/30 shadow-sm">
                  <ion-icon name="pause-circle-outline" class="text-sm"></ion-icon>
                  {{ i18n "portfolio.statusPaused" | default "–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω" }}
                </span>
              {{ else }}
                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium 
                            bg-primary/20 text-primary backdrop-blur-md border border-primary/30 shadow-sm">
                  <ion-icon name="ellipse-outline" class="text-sm"></ion-icon>
                  {{ . }}
                </span>
              {{ end }}
            </div>
            {{ end }}
            
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
            {{ with .Params.relatedProjects }}
            {{ $relatedCount := len . }}
            {{ if gt $relatedCount 0 }}
            <div class="absolute top-3 right-3">
              <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-base-100/90 text-base-content shadow-lg backdrop-blur-sm" title="{{ i18n "portfolio.relatedProjects" | default "–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã" }}: {{ $relatedCount }}">
                <ion-icon name="git-branch-outline" class="text-sm"></ion-icon>
                {{ $relatedCount }}
              </span>
            </div>
            {{ end }}
            {{ end }}
          </div>

          <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ -->
          <div class="p-5 space-y-3">
            
            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            {{ with .Params.filters }}
            <div class="flex flex-wrap gap-1.5">
              {{ range first 3 . }}
              <span class="badge badge-ghost badge-sm">{{ . | humanize }}</span>
              {{ end }}
              {{ if gt (len .) 3 }}
              <span class="badge badge-ghost badge-sm">+{{ sub (len .) 3 }}</span>
              {{ end }}
            </div>
            {{ end }}
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <h2 class="text-xl font-bold line-clamp-2 group-hover:text-primary transition-colors">
              {{ .Title }}
            </h2>

            <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
            {{ with .Summary }}
            <p class="text-sm text-base-content/70 line-clamp-2">
              {{ . | plainify | truncate 100 }}
            </p>
            {{ end }}
            
            <!-- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (tools) -->
            {{ with .Params.tools }}
            <div class="flex flex-wrap gap-1.5">
              {{ range first 4 . }}
              <span class="inline-flex items-center gap-1 px-2 py-1 text-xs bg-base-200 rounded-md">
                <ion-icon name="code-slash-outline" class="text-xs"></ion-icon>
                {{ . }}
              </span>
              {{ end }}
              {{ if gt (len .) 4 }}
              <span class="inline-flex items-center px-2 py-1 text-xs bg-base-200 rounded-md text-base-content/60">
                +{{ sub (len .) 4 }}
              </span>
              {{ end }}
            </div>
            {{ end }}

            <!-- –§—É—Ç–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <div class="flex items-center justify-between pt-3 border-t border-base-200">
              
              <!-- –î–∞—Ç–∞ -->
              <div class="flex items-center gap-1.5 text-xs text-base-content/60">
                <ion-icon name="calendar-outline" class="text-sm"></ion-icon>
                {{ if site.Params.Experimental.jsDate }}
                  <span data-format="luxon">{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}</span>
                {{ else }}
                  {{ .Date | time.Format ":date_medium" }}
                {{ end }}
              </div>

              <!-- –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è -->
              <div class="flex items-center gap-1.5 text-xs text-base-content/60">
                <ion-icon name="time-outline" class="text-sm"></ion-icon>
                <span>{{ .ReadingTime }} {{ i18n "minuteRead" .ReadingTime | default "–º–∏–Ω" }}</span>
              </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="pt-2">
              <span class="inline-flex items-center gap-2 text-sm font-medium text-primary group-hover:gap-3 transition-all">
                {{ i18n "portfolio.viewProject" | default "–°–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–µ–∫—Ç" }}
                <ion-icon name="arrow-forward" class="text-base"></ion-icon>
              </span>
            </div>
          </div>
        </a>
        
      </div>
      {{ end }}
    </div>
    
    <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
    <div id="portfolio-no-results" class="hidden text-center py-12">
      <ion-icon name="search-outline" class="text-4xl text-base-content/30 mb-3"></ion-icon>
      <h3 class="text-lg font-bold mb-2">{{ i18n "portfolio.noProjects" | default "–ü—Ä–æ–µ–∫—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" }}</h3>
      <p class="text-base-content/60 text-sm mb-4">{{ i18n "portfolio.tryOtherFilter" | default "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é" }}</p>
      <button onclick="document.querySelector('.portfolio-filter-btn[data-filter=\'*\']').click()" class="btn btn-sm btn-primary">
        {{ i18n "portfolio.resetFilter" | default "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ" }}
      </button>
    </div>
    
    {{ end }}

  </div>
</div>

<!-- –°–µ–∫—Ü–∏—è "–ö–∞–∫ —è —Ä–∞–±–æ—Ç–∞—é" -->
<section class="py-12 sm:py-16 lg:py-20">
  <div class="max-w-3xl mx-auto px-4 sm:px-6">
    
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="text-center mb-8">
      <h2 class="text-2xl sm:text-3xl font-bold">{{ i18n "process.title" | default "–ö–∞–∫ —è —Ä–∞–±–æ—Ç–∞—é" }}</h2>
      <p class="text-base-content/60 mt-1">{{ i18n "process.subtitle" | default "4 —ç—Ç–∞–ø–∞ ‚Üí –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç" }}</p>
      <div class="flex items-center justify-center gap-2 text-sm text-base-content/50 mt-3">
        <ion-icon name="time-outline"></ion-icon>
        <span>{{ i18n "process.duration" | default "–û–±—ã—á–Ω–æ 4-10 –Ω–µ–¥–µ–ª—å" }}</span>
      </div>
    </div>
    
    <!-- Accordion -->
    <div class="space-y-3">
      
      <!-- –≠—Ç–∞–ø 1 -->
      <div class="group rounded-xl border border-base-200 dark:border-base-content/10
                  bg-base-100 dark:bg-base-200/30
                  overflow-hidden transition-all
                  hover:border-primary/30 hover:shadow-md">
        <details class="group/details">
          <summary class="flex items-center gap-4 p-4 sm:p-5 cursor-pointer
                         select-none list-none
                         [&::-webkit-details-marker]:hidden">
            
            <span class="flex items-center justify-center shrink-0
                        w-10 h-10 rounded-xl
                        bg-primary text-primary-content font-bold
                        group-open/details:rotate-0
                        transition-transform">
              1
            </span>
            
            <div class="flex-1 min-w-0">
              <h3 class="font-semibold group-hover:text-primary transition-colors">
                {{ i18n "process.step1.title" | default "–û–±—Å—É–∂–¥–µ–Ω–∏–µ" }}
              </h3>
              <p class="text-sm text-base-content/50 truncate">
                {{ i18n "process.step1.subtitle" | default "–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –æ—Ü–µ–Ω–∫–∞" }}
              </p>
            </div>
            
            <span class="hidden sm:flex items-center gap-1 text-xs text-base-content/40 shrink-0">
              <ion-icon name="time-outline"></ion-icon>
              {{ i18n "process.step1.duration" | default "1-2 –¥–Ω—è" }}
            </span>
            
            <ion-icon name="chevron-down" 
                      class="text-xl text-base-content/30 shrink-0
                             group-open/details:rotate-180 transition-transform duration-200">
            </ion-icon>
          </summary>
          
          <div class="px-4 sm:px-5 pb-5 pt-0 ml-14">
            <div class="pt-4 border-t border-base-200 dark:border-base-content/10">
              <ul class="space-y-2 text-sm text-base-content/70">
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-primary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step1.item1" | default "–ü–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ Telegram –∏–ª–∏ Email" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-primary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step1.item2" | default "–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±—Ä–∏—Ñ–∞ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-primary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step1.item3" | default "–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Å—Ä–æ–∫–æ–≤ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏" }}
                </li>
              </ul>
              
              <div class="mt-4 flex items-center gap-4">
                <span class="text-xs px-2 py-1 rounded bg-primary/10 text-primary">
                  {{ i18n "process.step1.badge" | default "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ" }}
                </span>
                <span class="text-xs text-base-content/40">
                  {{ i18n "process.step1.note" | default "–ë–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤" }}
                </span>
              </div>
            </div>
          </div>
        </details>
      </div>
      
      <!-- –≠—Ç–∞–ø 2 -->
      <div class="group rounded-xl border border-base-200 dark:border-base-content/10
                  bg-base-100 dark:bg-base-200/30
                  overflow-hidden transition-all
                  hover:border-secondary/30 hover:shadow-md">
        <details class="group/details">
          <summary class="flex items-center gap-4 p-4 sm:p-5 cursor-pointer
                         select-none list-none
                         [&::-webkit-details-marker]:hidden">
            
            <span class="flex items-center justify-center shrink-0
                        w-10 h-10 rounded-xl
                        bg-secondary text-secondary-content font-bold">
              2
            </span>
            
            <div class="flex-1 min-w-0">
              <h3 class="font-semibold group-hover:text-secondary transition-colors">
                {{ i18n "process.step2.title" | default "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ" }}
              </h3>
              <p class="text-sm text-base-content/50 truncate">
                {{ i18n "process.step2.subtitle" | default "–ü—Ä–æ—Ç–æ—Ç–∏–ø, –¢–ó –∏ –¥–æ–≥–æ–≤–æ—Ä" }}
              </p>
            </div>
            
            <span class="hidden sm:flex items-center gap-1 text-xs text-base-content/40 shrink-0">
              <ion-icon name="time-outline"></ion-icon>
              {{ i18n "process.step2.duration" | default "3-7 –¥–Ω–µ–π" }}
            </span>
            
            <ion-icon name="chevron-down" 
                      class="text-xl text-base-content/30 shrink-0
                             group-open/details:rotate-180 transition-transform duration-200">
            </ion-icon>
          </summary>
          
          <div class="px-4 sm:px-5 pb-5 pt-0 ml-14">
            <div class="pt-4 border-t border-base-200 dark:border-base-content/10">
              <ul class="space-y-2 text-sm text-base-content/70">
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-secondary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step2.item1" | default "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –≤ Figma" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-secondary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step2.item2" | default "–î–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-secondary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step2.item3" | default "–¢–æ—á–Ω—ã–µ —Å—Ä–æ–∫–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-secondary mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step2.item4" | default "–ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞" }}
                </li>
              </ul>
              
              <div class="mt-4 flex items-center gap-4">
                <span class="text-xs px-2 py-1 rounded bg-secondary/10 text-secondary">
                  {{ i18n "process.step2.badge" | default "–ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 30%" }}
                </span>
              </div>
            </div>
          </div>
        </details>
      </div>
      
      <!-- –≠—Ç–∞–ø 3 -->
      <div class="group rounded-xl border border-base-200 dark:border-base-content/10
                  bg-base-100 dark:bg-base-200/30
                  overflow-hidden transition-all
                  hover:border-accent/30 hover:shadow-md">
        <details class="group/details">
          <summary class="flex items-center gap-4 p-4 sm:p-5 cursor-pointer
                         select-none list-none
                         [&::-webkit-details-marker]:hidden">
            
            <span class="flex items-center justify-center shrink-0
                        w-10 h-10 rounded-xl
                        bg-accent text-accent-content font-bold">
              3
            </span>
            
            <div class="flex-1 min-w-0">
              <h3 class="font-semibold group-hover:text-accent transition-colors">
                {{ i18n "process.step3.title" | default "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞" }}
              </h3>
              <p class="text-sm text-base-content/50 truncate">
                {{ i18n "process.step3.subtitle" | default "–°–ø—Ä–∏–Ω—Ç—ã —Å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–º–∏ –¥–µ–º–æ" }}
              </p>
            </div>
            
            <span class="hidden sm:flex items-center gap-1 text-xs text-base-content/40 shrink-0">
              <ion-icon name="time-outline"></ion-icon>
              {{ i18n "process.step3.duration" | default "2-8 –Ω–µ–¥–µ–ª—å" }}
            </span>
            
            <ion-icon name="chevron-down" 
                      class="text-xl text-base-content/30 shrink-0
                             group-open/details:rotate-180 transition-transform duration-200">
            </ion-icon>
          </summary>
          
          <div class="px-4 sm:px-5 pb-5 pt-0 ml-14">
            <div class="pt-4 border-t border-base-200 dark:border-base-content/10">
              <ul class="space-y-2 text-sm text-base-content/70">
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-accent mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step3.item1" | default "–†–∞–±–æ—Ç–∞ —Å–ø—Ä–∏–Ω—Ç–∞–º–∏ –ø–æ 1-2 –Ω–µ–¥–µ–ª–∏" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-accent mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step3.item2" | default "–î–µ–º–æ-–≤–µ—Ä—Å–∏—è –∫–∞–∂–¥—É—é –ø—è—Ç–Ω–∏—Ü—É" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-accent mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step3.item3" | default "–î–æ—Å—Ç—É–ø –∫ dev-–≤–µ—Ä—Å–∏–∏ 24/7" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-accent mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step3.item4" | default "–°–≤—è–∑—å –≤ Telegram/Slack" }}
                </li>
              </ul>
              
              <div class="mt-4 flex items-center gap-4">
                <span class="text-xs px-2 py-1 rounded bg-accent/10 text-accent">
                  {{ i18n "process.step3.badge" | default "–û–ø–ª–∞—Ç–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞" }}
                </span>
              </div>
            </div>
          </div>
        </details>
      </div>
      
      <!-- –≠—Ç–∞–ø 4 -->
      <div class="group rounded-xl border-2 border-success/30
                  bg-success/5 dark:bg-success/10
                  overflow-hidden transition-all
                  hover:border-success/50 hover:shadow-md hover:shadow-success/10">
        <details class="group/details" open>
          <summary class="flex items-center gap-4 p-4 sm:p-5 cursor-pointer
                         select-none list-none
                         [&::-webkit-details-marker]:hidden">
            
            <span class="flex items-center justify-center shrink-0
                        w-10 h-10 rounded-xl
                        bg-success text-success-content font-bold">
              <ion-icon name="checkmark" class="text-lg"></ion-icon>
            </span>
            
            <div class="flex-1 min-w-0">
              <h3 class="font-semibold text-success">
                {{ i18n "process.step4.title" | default "–ó–∞–ø—É—Å–∫" }} üöÄ
              </h3>
              <p class="text-sm text-base-content/50 truncate">
                {{ i18n "process.step4.subtitle" | default "–î–µ–ø–ª–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞" }}
              </p>
            </div>
            
            <span class="hidden sm:flex items-center gap-1 text-xs text-success shrink-0 font-medium">
              <ion-icon name="shield-checkmark"></ion-icon>
              {{ i18n "process.step4.guarantee" | default "–ì–∞—Ä–∞–Ω—Ç–∏—è" }}
            </span>
            
            <ion-icon name="chevron-down" 
                      class="text-xl text-success/50 shrink-0
                             group-open/details:rotate-180 transition-transform duration-200">
            </ion-icon>
          </summary>
          
          <div class="px-4 sm:px-5 pb-5 pt-0 ml-14">
            <div class="pt-4 border-t border-success/20">
              <ul class="space-y-2 text-sm text-base-content/70">
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-success mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step4.item1" | default "–î–µ–ø–ª–æ–π –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-success mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step4.item2" | default "–ü–µ—Ä–µ–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-success mt-0.5 shrink-0"></ion-icon>
                  {{ i18n "process.step4.item3" | default "–û–±—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π" }}
                </li>
                <li class="flex items-start gap-2">
                  <ion-icon name="checkmark-circle" class="text-success mt-0.5 shrink-0"></ion-icon>
                  <strong>{{ i18n "process.step4.item4" | default "30 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏" }}</strong>
                </li>
              </ul>
              
              <div class="mt-4 p-3 rounded-lg bg-success/10 border border-success/20">
                <p class="text-xs text-success font-medium">
                  ‚ú® {{ i18n "process.step4.bonus" | default "–ë–æ–Ω—É—Å: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞" }}
                </p>
              </div>
            </div>
          </div>
        </details>
      </div>
      
    </div>
    
    <!-- CTA –∫–Ω–æ–ø–∫–∞ -->
    <div class="mt-8 text-center">
      {{- $contactLink := "https://t.me/cyber_way" -}}
      {{- $useTelegram := true -}}
      {{- $contactText := i18n "process.cta" | default "–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç" -}}
      
      {{ with site.GetPage "/contact" }}
        {{- $contactLink = .RelPermalink -}}
        {{- $useTelegram = false -}}
      {{ else }}
        {{ with site.Params.contact }}
          {{- $contactLink = . -}}
          {{ if strings.Contains . "t.me" }}
            {{- $useTelegram = true -}}
          {{ else }}
            {{- $useTelegram = false -}}
          {{ end }}
        {{ end }}
      {{ end }}
      
      <a href="{{ $contactLink }}" 
         class="btn btn-primary btn-lg gap-2 shadow-lg shadow-primary/25 
                hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-0.5
                transition-all duration-200"
         {{ if not (hasPrefix $contactLink "/") }}target="_blank" rel="noopener"{{ end }}>
        {{ if $useTelegram }}
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
            <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
          </svg>
        {{ else }}
          <ion-icon name="chatbubbles-outline" class="text-xl"></ion-icon>
        {{ end }}
        {{ $contactText }}
        <ion-icon name="arrow-forward-outline" class="text-lg"></ion-icon>
      </a>
      
      <p class="text-sm text-base-content/50 mt-3">
        {{ i18n "process.ctaNote" | default "–ü–µ—Ä–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ" }}
      </p>
    </div>
    
  </div>
</section>

<!-- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ -->
{{ if gt (len $uniqueTools) 0 }}
<section class="py-10 sm:py-12 border-t border-base-300">
  <div class="max-w-4xl mx-auto px-4 sm:px-6">
    
    <div class="text-center mb-6">
      <h2 class="text-xl sm:text-2xl font-bold mb-2">
        {{ i18n "portfolio.techTitle" | default "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏" }}
      </h2>
      <p class="text-sm text-base-content/60">
        {{ i18n "portfolio.techDescription" | default "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –∏—Å–ø–æ–ª—å–∑—É—é –≤ —Ä–∞–±–æ—Ç–µ" }}
      </p>
    </div>

    <div class="flex flex-wrap justify-center gap-2">
      {{ range $uniqueTools }}
      <span class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-base-200 hover:bg-primary hover:text-primary-content transition-all duration-300 cursor-default">
        {{ . }}
      </span>
      {{ end }}
    </div>
    
  </div>
</section>
{{ end }}

<!-- FAQ —Å–µ–∫—Ü–∏—è -->
<section class="py-12 sm:py-16">
  <div class="max-w-3xl mx-auto px-4 sm:px-6">
    
    <div class="text-center mb-10 sm:mb-12">
      <h2 class="text-xl sm:text-2xl font-bold mb-2">
        {{ i18n "portfolio.faqTitle" | default "–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã" }}
      </h2>
      <p class="text-sm text-base-content/60">
        {{ i18n "portfolio.faqDescription" | default "–û—Ç–≤–µ—Ç—ã –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ" }}
      </p>
    </div>

    <div class="space-y-4">
      
      <!-- FAQ 1 -->
      <div class="collapse collapse-plus bg-base-100 shadow-lg border border-base-200 rounded-2xl">
        <input type="radio" name="faq-accordion" checked="checked" /> 
        <div class="collapse-title text-lg font-medium">
          {{ i18n "portfolio.faq1Question" | default "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞?" }}
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70">
            {{ i18n "portfolio.faq1Answer" | default "–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç. –ü–æ—Å–ª–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—é –¥–µ—Ç–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É. –ü–µ—Ä–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ." }}
          </p>
        </div>
      </div>
      
      <!-- FAQ 2 -->
      <div class="collapse collapse-plus bg-base-100 shadow-lg border border-base-200 rounded-2xl">
        <input type="radio" name="faq-accordion" /> 
        <div class="collapse-title text-lg font-medium">
          {{ i18n "portfolio.faq2Question" | default "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞?" }}
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70">
            {{ i18n "portfolio.faq2Answer" | default "–°—Ä–æ–∫–∏ –≤–∞—Ä—å–∏—Ä—É—é—Ç—Å—è –æ—Ç 2-4 –Ω–µ–¥–µ–ª—å –¥–ª—è –ª–µ–Ω–¥–∏–Ω–≥–æ–≤ –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—è—Ü–µ–≤ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. –¢–æ—á–Ω—ã–µ —Å—Ä–æ–∫–∏ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ." }}
          </p>
        </div>
      </div>
      
      <!-- FAQ 3 -->
      <div class="collapse collapse-plus bg-base-100 shadow-lg border border-base-200 rounded-2xl">
        <input type="radio" name="faq-accordion" /> 
        <div class="collapse-title text-lg font-medium">
          {{ i18n "portfolio.faq3Question" | default "–ö–∞–∫–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –≤—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ?" }}
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70">
            {{ i18n "portfolio.faq3Answer" | default "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤ –∏ –ø–æ–º–æ—â—å –≤ —Å–ª—É—á–∞–µ –≤–æ–ø—Ä–æ—Å–æ–≤. –£—Å–ª–æ–≤–∏—è –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è –≤ –¥–æ–≥–æ–≤–æ—Ä–µ." }}
          </p>
        </div>
      </div>
      
      <!-- FAQ 4 -->
      <div class="collapse collapse-plus bg-base-100 shadow-lg border border-base-200 rounded-2xl">
        <input type="radio" name="faq-accordion" /> 
        <div class="collapse-title text-lg font-medium">
          {{ i18n "portfolio.faq4Question" | default "–†–∞–±–æ—Ç–∞–µ—Ç–µ –ª–∏ –≤—ã —Å –∑–∞—Ä—É–±–µ–∂–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏?" }}
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70">
            {{ i18n "portfolio.faq4Answer" | default "–î–∞, —Ä–∞–±–æ—Ç–∞—é —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏–∑ –ª—é–±—ã—Ö —Å—Ç—Ä–∞–Ω. –û–±—â–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–∞—Ö —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–µ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã." }}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA —Å–µ–∫—Ü–∏—è -->
<section class="py-10 sm:py-12">
  <div class="max-w-2xl mx-auto px-4 sm:px-6">
    
    <div class="p-6 sm:p-8 rounded-2xl bg-base-200/50 dark:bg-base-200/10 border border-base-300 text-center">
      
      <div class="inline-flex items-center justify-center w-14 h-14 rounded-xl bg-primary/10 text-primary mb-4">
        <ion-icon name="chatbubble-ellipses-outline" class="text-2xl"></ion-icon>
      </div>
      
      <h2 class="text-xl sm:text-2xl font-bold mb-2">
        {{ i18n "portfolio.ctaTitle" | default "–ï—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç?" }}
      </h2>
      
      <p class="text-base-content/60 mb-6 max-w-md mx-auto">
        {{ i18n "portfolio.ctaDescription" | default "–î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º –≤–∞—à—É –∏–¥–µ—é. –ü–µ—Ä–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ." }}
      </p>
      
      <div class="flex flex-wrap justify-center gap-3">
        {{ $contactLink := "https://t.me/cyber_way" }}
        {{ $useTelegram := true }}
        {{ $contactText := "Telegram" }}
        
        {{ with site.GetPage "/contact" }}
          {{ $contactLink = .RelPermalink }}
          {{ $useTelegram = false }}
          {{ $contactText = i18n "portfolio.ctaButton" | default "–ù–∞–ø–∏—Å–∞—Ç—å –º–Ω–µ" }}
        {{ else }}
          {{ with site.Params.contact }}
            {{ $contactLink = . }}
            {{ if strings.Contains . "t.me" }}
              {{ $useTelegram = true }}
              {{ $contactText = "Telegram" }}
            {{ else if strings.Contains . "mailto:" }}
              {{ $useTelegram = false }}
              {{ $contactText = i18n "portfolio.ctaEmail" | default "Email" }}
            {{ else }}
              {{ $useTelegram = false }}
              {{ $contactText = i18n "portfolio.ctaButton" | default "–ù–∞–ø–∏—Å–∞—Ç—å –º–Ω–µ" }}
            {{ end }}
          {{ end }}
        {{ end }}
        
        <a href="{{ $contactLink }}" class="btn btn-primary gap-2" {{ if not (hasPrefix $contactLink "/") }}target="_blank" rel="noopener"{{ end }}>
          {{ if $useTelegram }}
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
              <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
            </svg>
          {{ else }}
            <ion-icon name="send-outline"></ion-icon>
          {{ end }}
          {{ $contactText }}
        </a>
      </div>
      
    </div>
    
  </div>
</section>

<!-- Portfolio Isotope JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js"></script>
<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script>
(function() {
  'use strict';
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞
  var grid = document.getElementById('portfolio-grid');
  if (!grid) return;
  
  var noResults = document.getElementById('portfolio-no-results');
  var iso = null;
  
  function initIsotope() {
    if (iso) return;
    
    try {
      iso = new Isotope(grid, {
        itemSelector: '.portfolio-item',
        layoutMode: 'fitRows',
        transitionDuration: '0.4s',
        stagger: 30,
        percentPosition: true,
        fitRows: {
          gutter: 0
        }
      });
      
      grid.classList.add('is-loaded');
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
      var filterButtons = document.querySelectorAll('.portfolio-filter-btn');
      
      filterButtons.forEach(function(button) {
        button.addEventListener('click', function() {
          var filterValue = this.getAttribute('data-filter');
          
          if (iso) {
            iso.arrange({ filter: filterValue });
          }

          // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
          filterButtons.forEach(function(btn) {
            btn.setAttribute('data-state', 'unchecked');
          });
          this.setAttribute('data-state', 'checked');
        });
      });
      
      // –°–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
      iso.on('arrangeComplete', function(filteredItems) {
        if (noResults) {
          if (filteredItems.length === 0) {
            noResults.classList.remove('hidden');
            grid.style.display = 'none';
          } else {
            noResults.classList.add('hidden');
            grid.style.display = '';
          }
        }
      });
      
    } catch (e) {
      console.error('Portfolio Isotope init error:', e);
    }
  }
  
  function relayout() {
    if (iso) {
      try {
        iso.layout();
      } catch (e) {
        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ relayout
      }
    }
  }
  
  function startInit() {
    if (typeof imagesLoaded === 'undefined') {
      setTimeout(startInit, 100);
      return;
    }
    
    imagesLoaded(grid, function() {
      setTimeout(function() {
        initIsotope();
        setTimeout(relayout, 100);
        setTimeout(relayout, 300);
      }, 50);
    });
  }
  
  // –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  if (document.readyState === 'complete') {
    startInit();
  } else {
    window.addEventListener('load', startInit);
  }
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤
  if ('fonts' in document) {
    document.fonts.ready.then(function() {
      setTimeout(relayout, 50);
    });
  }
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—Å–∞–π–∑–∞
  var resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(relayout, 250);
  });
  
})();
</script>

<style>
  .portfolio-grid {
    display: flex;
    flex-wrap: wrap;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .portfolio-grid.is-loaded {
    opacity: 1;
  }
  .portfolio-item {
    box-sizing: border-box;
  }
</style>

{{ else }}

<!-- –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ -->
<div class="min-h-[60vh] flex items-center justify-center px-4 sm:px-6">
  <div class="text-center py-12">
    <ion-icon name="briefcase-outline" class="text-5xl text-base-content/30 mb-4"></ion-icon>
    <h1 class="text-xl font-bold mb-2">{{ i18n "portfolio.title" | default "–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ" }}</h1>
    <p class="text-base-content/60 mb-6">{{ i18n "portfolio.disabled" | default "–†–∞–∑–¥–µ–ª —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è" }}</p>
    <a href="{{ "/" | relURL }}" class="btn btn-primary btn-sm">
      {{ i18n "backToHome" | default "–ù–∞ –≥–ª–∞–≤–Ω—É—é" }}
    </a>
  </div>
</div>

{{ end }}

{{ end }}

{{ define "js" }}
{{ if site.Params.Experimental.jsDate }}
  {{ partial "luxon.html" . }}
{{ end }}
{{ end }}