{{ define "title" }}
{{ default "Lorem Ipsum Generator" }}
{{ end }}

{{ define "main" }}

<div class="max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-10">

  <!-- Hero -->
  <div class="text-center mb-8">
    <div class="inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-primary/10 text-primary mb-4">
      <span class="text-4xl sm:text-5xl">üìÑ</span>
    </div>
    <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-3">{{ .Title }}</h1>
    <p class="text-base-content/60 max-w-2xl mx-auto">{{ .Description }}</p>
  </div>

  <div class="max-w-4xl mx-auto">
    
    <div class="bg-base-100 rounded-2xl border border-base-200 dark:border-base-content/10 shadow-xl overflow-hidden">
      
      <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
      <div class="p-4 sm:p-6 bg-base-200/30 border-b border-base-200 dark:border-base-content/10">
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          
          <!-- –¢–∏–ø -->
          <div class="form-control">
            <label class="label">
              <span class="label-text font-medium">{{ T "loremIpsum.type" }}</span>
            </label>
            <select id="lorem-type" class="select select-bordered">
              <option value="paragraphs">{{ T "loremIpsum.paragraphs" }}</option>
              <option value="sentences">{{ T "loremIpsum.sentences" }}</option>
              <option value="words">{{ T "loremIpsum.words" }}</option>
            </select>
          </div>
          
          <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ -->
          <div class="form-control">
            <label class="label">
              <span class="label-text font-medium">{{ T "loremIpsum.count" }}</span>
            </label>
            <input type="number" id="lorem-count" class="input input-bordered" value="3" min="1" max="100" />
          </div>
          
          <!-- –Ø–∑—ã–∫ -->
          <div class="form-control">
            <label class="label">
              <span class="label-text font-medium">{{ T "loremIpsum.language" }}</span>
            </label>
            <select id="lorem-lang" class="select select-bordered">
              <option value="latin">{{ T "loremIpsum.latin" }}</option>
              <option value="russian">{{ T "loremIpsum.russian" }}</option>
              <option value="hipster">{{ T "loremIpsum.hipster" }}</option>
            </select>
          </div>
          
          <!-- –§–æ—Ä–º–∞—Ç -->
          <div class="form-control">
            <label class="label">
              <span class="label-text font-medium">{{ T "loremIpsum.format" }}</span>
            </label>
            <select id="lorem-format" class="select select-bordered">
              <option value="plain">{{ T "loremIpsum.plainText" }}</option>
              <option value="html">{{ T "loremIpsum.htmlTags" }}</option>
            </select>
          </div>
          
        </div>
        
        <!-- –û–ø—Ü–∏–∏ -->
        <div class="flex flex-wrap gap-4 mt-4">
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" id="lorem-start" class="checkbox checkbox-sm checkbox-primary" checked />
            <span class="text-sm">{{ T "loremIpsum.startWithLorem" }}</span>
          </label>
        </div>
        
        <!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è -->
        <div class="flex flex-wrap gap-2 mt-6">
          <button id="generate-lorem" class="btn btn-primary gap-2">
            <ion-icon name="sparkles-outline"></ion-icon>
            {{ T "loremIpsum.generate" }}
          </button>
          <button id="copy-lorem" class="btn btn-ghost gap-2">
            <ion-icon name="copy-outline"></ion-icon>
            {{ T "loremIpsum.copy" }}
          </button>
        </div>
        
      </div>

      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
      <div class="p-4 sm:p-6">
        <div id="lorem-output" class="prose max-w-none min-h-[200px]">
          <p class="text-base-content/40 italic">{{ T "loremIpsum.placeholder" }}</p>
        </div>
        
        <div class="flex items-center justify-between mt-4 pt-4 border-t border-base-200 text-sm text-base-content/60">
          <span id="lorem-stats">0 {{ T "loremIpsum.characters" }} ‚Ä¢ 0 {{ T "loremIpsum.wordsCount" }}</span>
        </div>
      </div>

    </div>

  </div>

</div>

<script>
(function() {
  'use strict';
  
  // ========== I18N ==========
  const i18n = {
    characters: {{ T "loremIpsum.characters" | jsonify }},
    wordsCount: {{ T "loremIpsum.wordsCount" | jsonify }},
    copied: {{ T "loremIpsum.copied" | jsonify }},
    copy: {{ T "loremIpsum.copy" | jsonify }}
  };
  
  const loremWords = {
    latin: [
      'lorem', 'ipsum', 'dolor', 'sit', 'amet', 'consectetur', 'adipiscing', 'elit',
      'sed', 'do', 'eiusmod', 'tempor', 'incididunt', 'ut', 'labore', 'et', 'dolore',
      'magna', 'aliqua', 'enim', 'ad', 'minim', 'veniam', 'quis', 'nostrud',
      'exercitation', 'ullamco', 'laboris', 'nisi', 'aliquip', 'ex', 'ea', 'commodo',
      'consequat', 'duis', 'aute', 'irure', 'in', 'reprehenderit', 'voluptate',
      'velit', 'esse', 'cillum', 'fugiat', 'nulla', 'pariatur', 'excepteur', 'sint',
      'occaecat', 'cupidatat', 'non', 'proident', 'sunt', 'culpa', 'qui', 'officia',
      'deserunt', 'mollit', 'anim', 'id', 'est', 'laborum', 'mauris', 'vitae',
      'ultricies', 'leo', 'integer', 'malesuada', 'nunc', 'vel', 'risus'
    ],
    russian: [
      '–¥–∞–ª–µ–∫–æ-–¥–∞–ª–µ–∫–æ', '–∑–∞', '—Å–ª–æ–≤–µ—Å–Ω—ã–º–∏', '–≥–æ—Ä–∞–º–∏', '–≤', '—Å—Ç—Ä–∞–Ω–µ', '–≥–ª–∞—Å–Ω—ã—Ö', '–∏',
      '—Å–æ–≥–ª–∞—Å–Ω—ã—Ö', '–∂–∏–≤—É—Ç', '—Ä—ã–±–Ω—ã–µ', '—Ç–µ–∫—Å—Ç—ã', '–≤–¥–∞–ª–∏', '–æ—Ç', '–≤—Å–µ—Ö', '–æ–Ω–∏',
      '–±—É–∫–≤–µ–Ω–Ω—ã—Ö', '–¥–æ–º–∞—Ö', '–Ω–∞', '–±–µ—Ä–µ–≥—É', '—Å–µ–º–∞–Ω—Ç–∏–∫–∞', '–±–æ–ª—å—à–æ–≥–æ', '—è–∑—ã–∫–æ–≤–æ–≥–æ',
      '–æ–∫–µ–∞–Ω–∞', '–º–∞–ª–µ–Ω—å–∫–∏–π', '—Ä—É—á–µ—ë–∫', '–¥–∞–ª—å', '–∂—É—Ä—á–∏—Ç', '–ø–æ', '–≤—Å–µ–π', '–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç',
      '–µ—ë', '–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏', '–ø—Ä–∞–≤–∏–ª–∞–º–∏', '—ç—Ç–∞', '—Å—Ç—Ä–∞–Ω–∞', '–∫–æ—Ç–æ—Ä–æ–π', '–∂–∞—Ä–µ–Ω–Ω—ã–µ',
      '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è', '–∑–∞–ª–µ—Ç–∞—é—Ç', '–ø—Ä—è–º–æ', '—Ä–æ—Ç', '–¥–∞–∂–µ', '–≤—Å–µ–º–æ–≥—É—â–∞—è', '–ø—É–Ω–∫—Ç—É–∞—Ü–∏—è',
      '–Ω–µ', '–∏–º–µ–µ—Ç', '–≤–ª–∞—Å—Ç–∏', '–Ω–∞–¥', '—Ç–µ–∫—Å—Ç–∞–º–∏', '–∑–∞–≥–æ–ª–æ–≤–æ–∫', '–ø—Ä–æ–¥–æ–ª–∂–∏–ª', '—Å–≤–æ–π',
      '–ø—É—Ç—å', '–¥–æ—Å—Ç–∏–≥–Ω—É–≤', '–ø–µ—Ä–≤—ã—Ö', '—Ö–æ–ª–º–æ–≤', '–∫—É—Ä—Å–∏–≤–Ω—ã—Ö', '–≥–æ—Ä', '–±—Ä–æ—Å–∏–ª',
      '–ø–æ—Å–ª–µ–¥–Ω–∏–π', '–≤–∑–≥–ª—è–¥', '–Ω–∞–∑–∞–¥', '—Å–∏–ª—É—ç—Ç', '—Ä–æ–¥–Ω–æ–≥–æ', '–≥–æ—Ä–æ–¥–∞', '–±—É–∫–≤', '–≥—Ä–∞–º–æ—Ç—ã'
    ],
    hipster: [
      'artisan', 'authentic', 'beard', 'brooklyn', 'craft', 'ethical', 'fixie',
      'flannel', 'gastropub', 'gluten-free', 'helvetica', 'hoodie', 'irony',
      'kickstarter', 'lomo', 'messenger', 'organic', 'pinterest', 'portland',
      'quinoa', 'raw', 'selvage', 'skateboard', 'sustainable', 'tumblr', 'typewriter',
      'umami', 'vegan', 'vinyl', 'wayfarers', 'williamsburg', 'wolf', 'yolo',
      'aesthetic', 'banjo', 'bespoke', 'blog', 'butcher', 'cardigan', 'chambray',
      'chia', 'cliche', 'cold-pressed', 'cornhole', 'crucifix', 'direct', 'trade',
      'disrupt', 'dreamcatcher', 'echo', 'park', 'everyday', 'carry', 'farm-to-table'
    ]
  };
  
  const startPhrase = {
    latin: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ',
    russian: '–î–∞–ª–µ–∫–æ-–¥–∞–ª–µ–∫–æ –∑–∞ —Å–ª–æ–≤–µ—Å–Ω—ã–º–∏ –≥–æ—Ä–∞–º–∏ –≤ —Å—Ç—Ä–∞–Ω–µ –≥–ª–∞—Å–Ω—ã—Ö –∏ —Å–æ–≥–ª–∞—Å–Ω—ã—Ö –∂–∏–≤—É—Ç —Ä—ã–±–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã. ',
    hipster: 'Artisan authentic beard brooklyn craft beer ethical. '
  };
  
  function getRandomWord(lang) {
    const words = loremWords[lang];
    return words[Math.floor(Math.random() * words.length)];
  }
  
  function capitalizeFirst(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
  
  function generateSentence(lang, minWords = 8, maxWords = 16) {
    const wordCount = Math.floor(Math.random() * (maxWords - minWords + 1)) + minWords;
    const words = [];
    
    for (let i = 0; i < wordCount; i++) {
      words.push(getRandomWord(lang));
    }
    
    // –ò–Ω–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø—è—Ç—É—é
    if (wordCount > 6 && Math.random() > 0.5) {
      const commaPos = Math.floor(wordCount / 2);
      words[commaPos] += ',';
    }
    
    return capitalizeFirst(words.join(' ')) + '.';
  }
  
  function generateParagraph(lang, startWithLorem = false) {
    const sentenceCount = Math.floor(Math.random() * 4) + 3; // 3-6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
    const sentences = [];
    
    if (startWithLorem) {
      sentences.push(startPhrase[lang].trim());
    }
    
    for (let i = startWithLorem ? 1 : 0; i < sentenceCount; i++) {
      sentences.push(generateSentence(lang));
    }
    
    return sentences.join(' ');
  }
  
  function generateLorem(type, count, lang, format, startWithLorem) {
    let result = [];
    
    if (type === 'words') {
      const words = [];
      if (startWithLorem) {
        words.push(...startPhrase[lang].split(' ').slice(0, Math.min(count, 5)));
      }
      while (words.length < count) {
        words.push(getRandomWord(lang));
      }
      result = [words.slice(0, count).join(' ')];
    } else if (type === 'sentences') {
      if (startWithLorem) {
        result.push(startPhrase[lang].trim());
        count--;
      }
      for (let i = 0; i < count; i++) {
        result.push(generateSentence(lang));
      }
      result = [result.join(' ')];
    } else { // paragraphs
      for (let i = 0; i < count; i++) {
        result.push(generateParagraph(lang, startWithLorem && i === 0));
      }
    }
    
    if (format === 'html') {
      return result.map(p => `<p>${p}</p>`).join('\n');
    }
    
    return result.join('\n\n');
  }
  
  // –≠–ª–µ–º–µ–Ω—Ç—ã
  const loremType = document.getElementById('lorem-type');
  const loremCount = document.getElementById('lorem-count');
  const loremLang = document.getElementById('lorem-lang');
  const loremFormat = document.getElementById('lorem-format');
  const loremStart = document.getElementById('lorem-start');
  const loremOutput = document.getElementById('lorem-output');
  const loremStats = document.getElementById('lorem-stats');
  
  function generate() {
    const text = generateLorem(
      loremType.value,
      parseInt(loremCount.value) || 3,
      loremLang.value,
      loremFormat.value,
      loremStart.checked
    );
    
    if (loremFormat.value === 'html') {
      loremOutput.innerHTML = text;
    } else {
      loremOutput.innerHTML = text.split('\n\n').map(p => `<p>${p}</p>`).join('');
    }
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    const plainText = loremOutput.innerText;
    const chars = plainText.length;
    const words = plainText.split(/\s+/).filter(w => w).length;
    loremStats.textContent = `${chars} ${i18n.characters} ‚Ä¢ ${words} ${i18n.wordsCount}`;
  }
  
  document.getElementById('generate-lorem').addEventListener('click', generate);
  
  document.getElementById('copy-lorem').addEventListener('click', async () => {
    const text = loremFormat.value === 'html' 
      ? loremOutput.innerHTML 
      : loremOutput.innerText;
    await navigator.clipboard.writeText(text);
    
    const btn = document.getElementById('copy-lorem');
    btn.innerHTML = '<ion-icon name="checkmark-outline"></ion-icon> ' + i18n.copied;
    setTimeout(() => {
      btn.innerHTML = '<ion-icon name="copy-outline"></ion-icon> ' + i18n.copy;
    }, 2000);
  });
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  generate();
  
})();
</script>

{{ end }}